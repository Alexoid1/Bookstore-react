(this["webpackJsonpbookstore-react"]=this["webpackJsonpbookstore-react"]||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),o=n(17),r=n.n(o),i=n(6),s=n(12),l=n(4),u=n(5),j=n(15),b=n.n(j),d="FETCH_BOOKS_REQUEST",O="FETCH_BOOKS_SUCCESS",h="FETCH_BOOKS_FAILURE",p="CREATE_BOOK_REQUEST",f="CREATE_BOOK_SUCCESS",m="CREATE_BOOK_FAILURE",x="DELETE_BOOK_REQUEST",g="DELETE_BOOK_SUCCESS",v="DELETE_BOOK_FAILURE",k="UPDATE_BOOK_REQUEST",y="UPDATE_BOOK_SUCCESS",N="UPDATE_BOOK_FAILURE",E="SEARCH_BOOKS_REQUEST",S="SEARCH_BOOKS_SUCCESS",B="SEARCH_BOOKS_FAILURE",C="CHANGE_FILTER",_=function(){return{type:d}},A=function(){return{type:p}},R=function(){return{type:x}},I=function(){return{type:k}},T=function(){return{type:E}},L=function(){return function(e){e(_),b.a.get("https://bookstore-apii.herokuapp.com/api/v1/books").then((function(t){var n=t.data.data;e(function(e){return{type:O,payload:e}}(n))})).catch((function(t){e(function(e){return{type:h,payload:e}}(t.message))}))}},K=function(e){return function(t){t(A),b.a.post("https://bookstore-apii.herokuapp.com/api/v1/books",{title:e.title,author:e.author,category:e.category,percentage:0,calification:0}).then((function(e){e.data.data,t(L())})).catch((function(e){t(function(e){return{type:m,payload:e}}(e.message))}))}},U=function(e){return function(t){t(R),b.a.delete("https://bookstore-apii.herokuapp.com/api/v1/books/".concat(e)).then((function(e){var n=e.data.data;console.log(n),t(L())})).catch((function(e){t(function(e){return{type:v,payload:e}}(e.message))}))}},D=function(e,t,n){return function(c){c(I),b.a.put("https://bookstore-apii.herokuapp.com/api/v1/books/".concat(e),{percentage:t,calification:n}).then((function(e){var t=e.data.data;console.log(t),c(L())})).catch((function(e){c(function(e){return{type:N,payload:e}}(e.message))}))}},F=function(e){return function(t){t(T),b.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e)).then((function(e){var n=e.data.items;console.log(n),t(function(e){return{type:S,payload:e}}(n))})).catch((function(e){t(function(e){return{type:B,payload:e}}(e.message))}))}},w=["Action","Biography","History","Horror","Kids","Learning","Sci-Fi"],H=function(e,t){return"All"===t?e:e.filter((function(e){return e.category===t}))},P=(n(63),{createBook:K}),Q=Object(i.b)(null,P)((function(e){var t=e.createBook,n=Object(a.useState)(""),o=Object(u.a)(n,2),r=o[0],i=o[1],s=Object(a.useState)(""),l=Object(u.a)(s,2),j=l[0],b=l[1],d=Object(a.useState)(""),O=Object(u.a)(d,2),h=O[0],p=O[1];return Object(c.jsx)("div",{className:"filter",children:Object(c.jsxs)("form",{children:[Object(c.jsx)("div",{className:"inputTitle",children:Object(c.jsx)("input",{type:"text",value:r,onChange:function(e){i((function(){return e.target.value}))},placeholder:"Title"})}),Object(c.jsx)("div",{className:"inputAuthor",children:Object(c.jsx)("input",{type:"text",value:h,onChange:function(e){p((function(){return e.target.value}))},placeholder:"Author Name"})}),Object(c.jsx)("div",{className:"inputCategory",children:Object(c.jsxs)("select",{value:j,onChange:function(e){b((function(){return e.target.value}))},children:[Object(c.jsx)("option",{value:"",children:"none"}),w.map((function(e){return Object(c.jsx)("option",{value:e,children:e},"key-".concat(e))}))]})}),Object(c.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),r&&j&&h&&(t({title:r,author:h,category:j}),i(""),b(""),p(""))},className:"addBook",children:"Add Book"})]})})})),G=(n(64),n(65),function(e){var t=e.calification/5*100;return Object(c.jsx)("span",{className:"star-wrapper",children:Object(c.jsx)("span",{className:"stars",style:{width:"".concat(t,"%")}})})}),J=Object(i.b)(null,(function(e){return{deleteBook:function(t){return e(U(t))},updateBook:function(t,n,c){return e(D(t,n,c))}}}))((function(e){var t=e.bookID,n=e.title,o=e.category,r=e.author,i=e.percentage,s=e.calification,l=e.deleteBook,j=e.updateBook,b=Object(a.useState)(!1),d=Object(u.a)(b,2),O=d[0],h=d[1],p=Object(a.useState)(i),f=Object(u.a)(p,2),m=f[0],x=f[1],g=Object(a.useState)(s),v=Object(u.a)(g,2),k=v[0],y=v[1];return Object(c.jsxs)("div",{className:"book-container",children:[Object(c.jsxs)("div",{className:"book-details",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"category",children:o}),Object(c.jsx)("div",{className:"title",children:n}),Object(c.jsx)("div",{className:"author",children:r})]}),Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)("button",{type:"button",children:"comments"}),Object(c.jsx)("button",{type:"button",onClick:function(){l(t)},children:"Remove"}),Object(c.jsx)("button",{type:"button",children:"Edits"})]})]}),Object(c.jsxs)("div",{className:"complete-container",children:[Object(c.jsxs)("div",{className:"complete",children:[Object(c.jsx)("div",{className:function(e){return e<=10?"circle0":e<=25&&e>10?"circle25":e<=50&&e>25?"circle50":e<=75&&e>50?"circle":"circle100"}(i)}),Object(c.jsxs)("div",{className:"complete-value",children:[Object(c.jsx)("span",{className:"percent",children:"".concat(m,"%")}),Object(c.jsx)(G,{calification:k}),Object(c.jsx)("span",{className:"faded-text",children:"Completed"})]})]}),O?Object(c.jsx)("div",{className:"update2",children:Object(c.jsxs)("form",{className:"formUpdate",children:[Object(c.jsx)("input",{className:"inputScore",type:"number",min:"1",max:"5",onChange:function(e){y((function(){return e.target.value}))},value:k}),Object(c.jsxs)("div",{className:"rangeCon",children:[Object(c.jsx)("span",{children:"0"}),Object(c.jsx)("input",{className:"inputRange",type:"range",id:"percentage",onChange:function(e){x((function(){return e.target.value}))},name:"percentage",min:"0",max:"100",step:"1",value:m}),Object(c.jsx)("span",{children:"100"})]}),Object(c.jsx)("button",{type:"button",onClick:function(e){e.preventDefault();var n=parseInt(m,10);j(t,n,k),h(!1)},children:"SAVE PROGRESS"})]})}):Object(c.jsxs)("div",{className:"update",children:[Object(c.jsx)("span",{className:"title",children:"SCORE"}),Object(c.jsx)("button",{type:"button",onClick:function(){return h(!0)},children:"UPDATE PROGRESS"})]})]})]})})),M=(n(66),function(){return Object(c.jsx)("div",{className:"loader"})}),Y=(n(67),Object(i.b)((function(e){return{filter:e.filter}}),(function(e){return{changeFilter:function(t){return e(function(e){return{type:C,value:e}}(t))}}}))((function(e){var t=e.changeFilter,n=Object(a.useState)("All"),o=Object(u.a)(n,2),r=o[0],i=o[1];return Object(c.jsx)("div",{className:"filter",children:Object(c.jsxs)("select",{value:r,onChange:function(e){var n=e.target.value;i(n),t(n)},className:"selectFilter",children:[Object(c.jsx)("option",{value:"All",children:"All"}),w.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))]})})}))),q=(n(68),function(e){var t=e.books,n=e.filter,o=e.fetchBooks;return Object(a.useEffect)((function(){o()}),[]),t.loading?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(M,{})}):t.error?Object(c.jsx)("h2",{className:"error",children:t.error}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"filter-container",children:Object(c.jsx)(Y,{})}),Object(c.jsx)("div",{className:"books-container filter-container",children:H(t.books,n).map((function(e){return Object(c.jsx)(J,{bookID:e.id,title:e.title,category:e.category,percentage:e.percentage,author:e.author,calification:e.calification},e.id)}))})]})});q.defaultProps={books:{}};var V=Object(i.b)((function(e){return{books:e.books,filter:e.filter}}),(function(e){return{fetchBooks:function(){return e(L())}}}))(q);var W=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(Q,{}),Object(c.jsx)(V,{})]})})},X=n(13),Z=n(34),z=n(35),$=n(2),ee={book:[],books:[],loading:!1,error:""},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object($.a)(Object($.a)({},e),{},{loading:!0});case O:return Object($.a)(Object($.a)({},e),{},{loading:!1,books:t.payload,error:""});case h:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:t.payload});case p:return Object($.a)(Object($.a)({},e),{},{loading:!0});case f:return Object($.a)(Object($.a)({},e),{},{loading:!1,books:t.payload,error:""});case m:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:t.payload});case x:return Object($.a)(Object($.a)({},e),{},{loading:!0});case g:return Object($.a)(Object($.a)({},e),{},{loading:!1,books:t.payload,error:""});case v:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:t.payload});case k:return Object($.a)(Object($.a)({},e),{},{loading:!0});case y:return Object($.a)(Object($.a)({},e),{},{loading:!1,books:t.payload,error:""});case N:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:t.payload});default:return e}},ne={text:"",books:[],loading:!1,error:""},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object($.a)(Object($.a)({},e),{},{loading:!0});case S:return Object($.a)(Object($.a)({},e),{},{loading:!1,books:t.payload,error:""});case B:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:t.payload});default:return e}},ae=Object(X.combineReducers)({books:te,filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.value;default:return e}},search:ce}),oe=Object(X.createStore)(ae,Object(z.composeWithDevTools)(Object(X.applyMiddleware)(Z.a)));n(69);var re=function(){return Object(c.jsxs)("div",{className:"header-container",children:[Object(c.jsxs)("ul",{className:"header",children:[Object(c.jsx)("li",{className:"header__logo header__link",children:"Bookstore AXZ"}),Object(c.jsx)("li",{className:"header__book_link header__link",children:Object(c.jsx)(s.b,{className:"links",to:"/",children:"BOOKS"})}),Object(c.jsx)("li",{className:"header__link",children:Object(c.jsx)(s.b,{className:"links",to:"/library",children:"SEARCH BOOKS"})})]}),Object(c.jsx)("div",{className:"user",children:Object(c.jsx)("span",{className:"user-logo"})})]})},ie=(n(71),n(72),function(e){var t=e.title,n=e.pageCount,o=e.language,r=e.authors,i=void 0===r?["Incognito"]:r,l=e.description,j=e.previewLink,b=e.infoLink,d=e.image,O=void 0===d?"":d,h=e.categories,p=void 0===h?["Learning"]:h,f=e.createBook,m=Object(a.useState)("ADD BOOK TO MY LIBRARY"),x=Object(u.a)(m,2),g=x[0],v=x[1],k=i[0],y=p[0];return Object(c.jsxs)("div",{className:"item",children:[Object(c.jsx)("h3",{className:"titleItem",children:t}),Object(c.jsxs)("p",{className:"pages",children:[Object(c.jsx)("strong",{children:"Pages:"})," ",n]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Lenguage:"})," ",o]}),Object(c.jsx)("div",{className:"imgBook",children:Object(c.jsx)("img",{src:O.smallThumbnail,alt:"cover"})}),Object(c.jsx)("div",{className:"desContainer",children:Object(c.jsx)("p",{children:l})}),Object(c.jsx)(s.b,{to:j,target:"_blank",className:"limk",children:"Read"}),Object(c.jsx)(s.b,{to:b,target:"_blank",className:"limk",children:"Info"}),Object(c.jsx)("div",{className:"buttonBox",children:Object(c.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),f({title:t,author:k,category:y}),v("BOOK ADDED")},children:g})})]})});ie.defaultProps={image:"",authors:["Incognito"],categories:["Learning"]};var se={createBook:K},le=Object(i.b)((function(e){return{books:e.books}}),se)(ie),ue=function(e){var t=e.searchBooks,n=e.search,o=Object(a.useState)(""),r=Object(u.a)(o,2),i=r[0],s=r[1],l=Object(a.useState)(n.loading),j=Object(u.a)(l,2),b=j[0],d=j[1],O=function(e){s((function(){return e.target.value}))},h=function(e){e.preventDefault(),t(i)};return Object(a.useEffect)((function(){n.books>0&&d(!1)}),[]),b?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsxs)("form",{className:"formSe",children:[Object(c.jsx)("div",{className:"inputSearch",children:Object(c.jsx)("input",{type:"text",value:i,onChange:O,placeholder:"Book Name"})}),Object(c.jsx)("button",{type:"button",onClick:h,className:"searchBook",children:"Search Book"})]})}),Object(c.jsx)(M,{})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsxs)("form",{className:"formSe",children:[Object(c.jsx)("div",{className:"inputSearch",children:Object(c.jsx)("input",{type:"text",value:i,onChange:O,placeholder:"Book Name"})}),Object(c.jsx)("button",{type:"button",onClick:h,className:"searchBook",children:"Search Book"})]})}),Object(c.jsx)("div",{className:"boo",children:n.books.map((function(e){return Object(c.jsx)(le,{title:e.volumeInfo.title,pageCount:e.volumeInfo.pageCount,language:e.volumeInfo.language,authors:e.volumeInfo.authors,description:e.volumeInfo.description,previewLink:e.volumeInfo.previewLink,infoLink:e.volumeInfo.infoLink,image:e.volumeInfo.imageLinks,categories:e.volumeInfo.categories},e.id)}))})]})};ue.defaultProps={search:[]};var je=Object(i.b)((function(e){return{search:e.search}}),(function(e){return{searchBooks:function(t){return e(F(t))}}}))(ue);var be=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"library",children:Object(c.jsx)(je,{})})})};n(73);r.a.render(Object(c.jsx)(i.a,{store:oe,children:Object(c.jsx)(s.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(re,{}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:W}),Object(c.jsx)(l.a,{exact:!0,path:"/library",component:be})]})]})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.43ab6f8d.chunk.js.map